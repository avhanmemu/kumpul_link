{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/avhan3/Dokumen/PROGRAM/CANVA/KumpulLink/lib/db.js"],"sourcesContent":["// lib/db.js\nimport sqlite3 from 'sqlite3';\nimport { open } from 'sqlite';\n\n// Open the database\nexport default async function initDB() {\n  const db = await open({\n    filename: 'kumpullink.db',\n    driver: sqlite3.Database\n  });\n\n  // Create tables if they don't exist\n  await db.exec(`\n    CREATE TABLE IF NOT EXISTS links (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      backend_id TEXT UNIQUE NOT NULL,\n      title TEXT NOT NULL,\n      link_label TEXT NOT NULL,\n      link_url TEXT NOT NULL,\n      icon_image TEXT,\n      click_count INTEGER DEFAULT 0,\n      created_at DATETIME DEFAULT CURRENT_TIMESTAMP\n    );\n\n    CREATE TABLE IF NOT EXISTS ad_settings (\n      id INTEGER PRIMARY KEY AUTOINCREMENT,\n      zone_name TEXT,\n      zone_id TEXT,\n      ad_code TEXT,\n      enabled BOOLEAN DEFAULT 0\n    );\n  `);\n\n  return db;\n}"],"names":[],"mappings":"AAAA,YAAY;;;;;AACZ;AACA;;;AAGe,eAAe;IAC5B,MAAM,KAAK,MAAM,IAAA,mKAAI,EAAC;QACpB,UAAU;QACV,QAAQ,kHAAO,CAAC,QAAQ;IAC1B;IAEA,oCAAoC;IACpC,MAAM,GAAG,IAAI,CAAC,CAAC;;;;;;;;;;;;;;;;;;;EAmBf,CAAC;IAED,OAAO;AACT"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///home/avhan3/Dokumen/PROGRAM/CANVA/KumpulLink/app/api/links/%5Bid%5D/click/route.js"],"sourcesContent":["// app/api/links/[id]/click/route.js\nimport { NextResponse } from 'next/server';\nimport initDB from '@/lib/db';\n\nexport async function POST(request, { params }) {\n  try {\n    const db = await initDB();\n    \n    // Update click count for the specific link\n    await db.run(\n      `UPDATE links \n       SET click_count = click_count + 1 \n       WHERE backend_id = ?`,\n      [params.id]\n    );\n\n    // Get updated link with new click count\n    const updatedLink = await db.get('SELECT * FROM links WHERE backend_id = ?', [params.id]);\n    \n    return NextResponse.json(updatedLink);\n  } catch (error) {\n    console.error('Error updating click count:', error);\n    return NextResponse.json({ error: error.message }, { status: 500 });\n  }\n}"],"names":[],"mappings":"AAAA,oCAAoC;;;;;AACpC;AACA;;;AAEO,eAAe,KAAK,OAAO,EAAE,EAAE,MAAM,EAAE;IAC5C,IAAI;QACF,MAAM,KAAK,MAAM,IAAA,sHAAM;QAEvB,2CAA2C;QAC3C,MAAM,GAAG,GAAG,CACV,CAAC;;2BAEoB,CAAC,EACtB;YAAC,OAAO,EAAE;SAAC;QAGb,wCAAwC;QACxC,MAAM,cAAc,MAAM,GAAG,GAAG,CAAC,4CAA4C;YAAC,OAAO,EAAE;SAAC;QAExF,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;AACF"}}]
}